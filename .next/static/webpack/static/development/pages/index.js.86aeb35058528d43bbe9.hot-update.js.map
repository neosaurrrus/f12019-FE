{"version":3,"file":"static/webpack/static/development/pages/index.js.86aeb35058528d43bbe9.hot-update.js","sources":["webpack:///./components/DeleteDriver.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { graphql, compose} from 'react-apollo'\r\nimport {GET_DRIVERS_QUERY, DELETE_DRIVER_MUTATION} from '../queries/queries'\r\n\r\n\r\nclass DeleteDriver extends Component {\r\n\r\n\r\n\r\n    delete = (event) => {\r\n        let value = event.target.value\r\n        this.props.DELETE_DRIVER_MUTATION({\r\n            variables: {\r\n                id: value\r\n            },  \r\n            refetchQueries: [{ query: GET_DRIVERS_QUERY }]\r\n        })\r\n    }\r\n\r\n\r\n    drivers() {\r\n        let data = this.props.GET_DRIVERS_QUERY\r\n        if (data.loading) {\r\n            return <div>Fetching Drivers</div>\r\n        } else {\r\n            return data.drivers.map(driver => {\r\n                return <li key={driver.id}> {driver.firstName} {driver.lastName} - {driver.nationality} -  <button value={driver.id} onClick={this.delete}>Delete</button></li> \r\n            })\r\n        }\r\n    }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <ul id=\"driver-list\">\r\n                   {this.drivers()}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    graphql(GET_DRIVERS_QUERY, { name: \"GET_DRIVERS_QUERY\" }),\r\n    graphql(DELETE_DRIVER_MUTATION, { name: \"DELETE_DRIVER_MUTATION\" }),\r\n)(DeleteDriver);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AAJA;AAMA;AACA;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnCA;AACA;AAsCA;AACA;AAAA;AACA;AAAA;;;;A","sourceRoot":""}